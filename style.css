:root{
  --bg:#f5f7f9;
  --text:#222;
  --card:#ffffff;
  --muted:#778;
  --accent:#2b7a78; /* default / start */
  --accent-weak:#bfe3e1;
}

body{
  font-family:"Noto Sans JP",system-ui,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  margin:0;
}

/* テーマ切替（都市タイプで色が変わる） */
body[data-city-type="eco"]{ --accent:#2e7d32; --accent-weak:#c8e6c9; }
body[data-city-type="industry"]{ --accent:#455a64; --accent-weak:#cfd8dc; }
body[data-city-type="social"]{ --accent:#f57c00; --accent-weak:#ffe0b2; }
body[data-city-type="smart"]{ --accent:#1565c0; --accent-weak:#bbdefb; }
body[data-city-type="science"]{ --accent:#6a1b9a; --accent-weak:#e1bee7; }
body[data-city-type="culture"]{ --accent:#8d6e63; --accent-weak:#d7ccc8; }
body[data-city-type="tourism"]{ --accent:#00796b; --accent-weak:#b2dfdb; }
body[data-city-type="agriculture"]{ --accent:#558b2f; --accent-weak:#dcedc8; }
body[data-city-type="infra"]{ --accent:#37474f; --accent-weak:#cfd8dc; }
body[data-city-type="housing"]{ --accent:#5d4037; --accent-weak:#d7ccc8; }
body[data-city-type="education"]{ --accent:#283593; --accent-weak:#c5cae9; }
body[data-city-type="transport"]{ --accent:#00695c; --accent-weak:#b2dfdb; }
body[data-city-type="industryHeavy"]{ --accent:#263238; --accent-weak:#cfd8dc; }
body[data-city-type="collapse"]{ --accent:#b71c1c; --accent-weak:#ffcdd2; }
body[data-city-type="wasteland"]{ --accent:#6d4c41; --accent-weak:#d7ccc8; }

.topbar{
  background:var(--accent);
  color:#fff;
  padding:12px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.topbar h1{
  margin:0;
  font-size:1.2rem;
}
#city-header{
  display:flex; gap:8px; align-items:center;
  font-weight:700;
}
.pill{
  background:#fff; color:var(--accent);
  padding:2px 10px; border-radius:999px;
  font-weight:700;
}

/* 都市写真カード */
#city-visual{
  padding:14px 12px;
}
.city-card{
  width:min(920px,95vw);
  margin:0 auto;
  background:var(--card);
  border-radius:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.12);
  overflow:hidden;
  border:2px solid var(--accent-weak);
}
#city-photo{
  width:100%; display:block;
  aspect-ratio: 16/9; object-fit:cover;
  background:#ddd;
}
#city-caption{
  margin:0; padding:10px 14px;
  color:var(--muted);
  font-size:.9rem;
}

/* ステータス＆資源 */
#status-and-resources{
  width:min(920px,95vw);
  margin:6px auto 0 auto;
  display:grid; gap:10px;
  grid-template-columns:1.1fr .9fr;
}
@media (max-width:900px){
  #status-and-resources{ grid-template-columns:1fr; }
}
#status-bars .bar{
  display:flex; align-items:center; gap:10px; margin:6px 0;
}
#status-bars label{ width:80px; font-weight:700; color:#334; }
.gauge{ flex:1; height:16px; background:#e3e7ea; border-radius:10px; overflow:hidden; }
.gauge div{
  height:100%; width:0%;
  background:linear-gradient(90deg,var(--accent),#66bb6a);
  transition:width .35s ease;
}
#res-chips{
  list-style:none; padding:0; margin:0;
  display:flex; flex-wrap:wrap; gap:8px;
  align-content:flex-start;
}
#res-chips li{
  background:var(--card);
  border:1px solid var(--accent-weak);
  border-radius:10px; padding:6px 10px;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
}

/* 説得力パネル */
#evidence-panel{
  width:min(920px,95vw);
  margin:10px auto 0 auto;
  background:var(--card);
  border:1px solid var(--accent-weak);
  border-radius:12px;
  padding:12px;
  box-shadow:0 4px 14px rgba(0,0,0,.08);
}
#evidence{ text-align:left; color:#333; line-height:1.6; }
#evidence .kv{ display:flex; gap:10px; flex-wrap:wrap; }
#evidence .tag{
  background:var(--accent-weak); color:#222; border-radius:8px;
  padding:4px 8px; font-size:.85rem; display:inline-block;
}

/* 質問パネル */
#main-panel{
  width:min(920px,95vw);
  margin:12px auto 24px auto;
  background:#fff;
  border-radius:12px;
  border:1px solid #e6e9ec;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  padding:16px;
  text-align:center;
}
#question-title{ margin:6px 0 6px; color:#223; }
#question-desc{ margin:0 0 12px; color:#445; }

.choice-btn{
  display:block; width:min(760px,92%); margin:10px auto;
  padding:12px 14px; border-radius:10px; border:none;
  background:var(--accent); color:#fff; font-size:1rem;
  cursor:pointer; transition:.2s;
  box-shadow:0 4px 12px rgba(0,0,0,.12);
}
.choice-btn:hover{ filter:brightness(1.05); transform:translateY(-1px); }
.choice-btn:disabled{ background:#cfd8dc; color:#777; cursor:not-allowed; }

#explainBox{
  background:#f1fbf8; border-left:4px solid var(--accent);
  padding:10px; margin:10px auto; width:min(760px,92%);
  border-radius:8px; color:#224;
}
.hidden{ display:none; }

#buttons{ margin-top:10px; display:flex; gap:8px; justify-content:center; }
#buttons button{
  background:#1565c0; color:#fff; border:none;
  padding:8px 14px; border-radius:8px; cursor:pointer;
}
#buttons button:hover{ filter:brightness(1.05); }

/* 演出 */
.level-up, .city-change{
  position:fixed; left:50%; transform:translateX(-50%); z-index:1000;
  font-weight:800; text-shadow:0 0 10px #fff;
}
.level-up{
  top:40%; font-size:3em; color:gold;
  animation:pop .9s ease-out, fade 1.6s ease-in forwards;
}
.city-change{
  bottom:10%; background:rgba(0,0,0,.72); color:#fff;
  padding:10px 18px; border-radius:18px; font-size:1.05rem;
  animation:slideIn .3s ease-out, fade 2.2s ease-in forwards;
}
@keyframes pop{0%{transform:translateX(-50%) scale(.6);opacity:0;} 40%{transform:translateX(-50%) scale(1.12);opacity:1;} 100%{transform:translateX(-50%) scale(1.0);} }
@keyframes slideIn{from{opacity:0; transform:translate(-50%, 16px);} to{opacity:1; transform:translate(-50%,0);} }
@keyframes fade{to{opacity:0;} }


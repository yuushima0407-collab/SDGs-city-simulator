<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SDGséƒ½å¸‚çµŒå–¶ã‚²ãƒ¼ãƒ  å®Œå…¨ç‰ˆ</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(to bottom, #e6f2ff, #ffffff);
    margin: 0;
    padding: 0;
  }

  header {
    background: #3a7bd5;
    color: white;
    text-align: center;
    padding: 12px;
    font-size: 20px;
    letter-spacing: 1px;
  }

  #main {
    max-width: 700px;
    margin: 30px auto;
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }

  .question {
    font-weight: bold;
    font-size: 18px;
    margin-bottom: 10px;
  }

  .option {
    background: #f5f5f5;
    border: 1px solid #ddd;
    padding: 12px;
    margin: 8px 0;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.3s;
  }

  .option:hover {
    background: #dcefff;
  }

  .option.disabled {
    background: #ccc;
    cursor: not-allowed;
  }

  #result {
    text-align: center;
    font-size: 18px;
    margin-top: 20px;
  }

  /* éƒ½å¸‚æƒ…å ±ãƒ‘ãƒãƒ« */
  #city-info-panel {
    position: fixed;
    right: 20px;
    bottom: 20px;
    width: 260px;
    background: rgba(255,255,255,0.95);
    border: 2px solid #3a7bd5;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    padding: 15px;
    font-size: 14px;
  }

  #city-info-panel h4 {
    margin: 0 0 6px 0;
    color: #3a7bd5;
    text-align: center;
  }

  #city-info-name {
    font-size: 16px;
    font-weight: bold;
    text-align: center;
  }

  #city-info-level {
    text-align: center;
    font-size: 14px;
    color: #777;
  }

  .city-info-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin: 5px 0;
  }

  .city-info-row img {
    width: 22px;
    height: 22px;
  }

  #city-info-resources {
    margin-top: 10px;
    text-align: center;
  }

  #city-info-desc {
    margin-top: 10px;
    font-size: 13px;
    color: #444;
    text-align: center;
  }
</style>
</head>
<body>

<header>ğŸŒ SDGséƒ½å¸‚çµŒå–¶ã‚²ãƒ¼ãƒ </header>

<div id="main">
  <div id="question-container">
    <div class="question" id="question-text">éƒ½å¸‚ã®ç™ºå±•æ–¹é‡ã‚’é¸ã¼ã†ï¼</div>
    <div id="options"></div>
  </div>

  <div id="result"></div>
</div>

<!-- éƒ½å¸‚æƒ…å ±ãƒ‘ãƒãƒ« -->
<div id="city-info-panel">
  <h4>éƒ½å¸‚æƒ…å ±</h4>
  <div id="city-info-name">ã‚¨ã‚³éƒ½å¸‚</div>
  <div id="city-info-level">Lv.1</div>

  <div class="city-info-row">
    <img src="images/icon_env.png" alt="ç’°å¢ƒ">
    <span class="city-info-label">ç’°å¢ƒ</span>
    <span id="env-value">70</span>
  </div>

  <div class="city-info-row">
    <img src="images/icon_eco.png" alt="çµŒæ¸ˆ">
    <span class="city-info-label">çµŒæ¸ˆ</span>
    <span id="eco-value">60</span>
  </div>

  <div class="city-info-row">
    <img src="images/icon_soc.png" alt="ç¤¾ä¼š">
    <span class="city-info-label">ç¤¾ä¼š</span>
    <span id="soc-value">80</span>
  </div>

  <div id="city-info-resources">
    âš¡ã‚¨ãƒãƒ«ã‚®ãƒ¼ 20ã€€ğŸé£Ÿæ–™ 15ã€€ğŸ§ æŠ€è¡“ 10ã€€ğŸ’°è³‡é‡‘ 50
  </div>

  <div id="city-info-desc">
    ğŸŒ¿è‡ªç„¶ãŒè±Šã‹ã§ã€æŒç¶šå¯èƒ½ãªç™ºå±•ã‚’ç›®æŒ‡ã™éƒ½å¸‚ã§ã™ã€‚
  </div>
</div>

<script>
const questions = [
  {
    text: "ã‚¨ãƒãƒ«ã‚®ãƒ¼æ”¿ç­–ã‚’é¸æŠã—ã‚ˆã†",
    options: [
      { text: "å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æ¨é€²", effect: { env: +10, eco: -5, soc: +5 } },
      { text: "ç«åŠ›ç™ºé›»ã«ä¾å­˜", effect: { env: -10, eco: +10, soc: -5 } },
      { text: "åŸå­åŠ›ã‚’æ´»ç”¨", effect: { env: -5, eco: +15, soc: -5 } },
    ]
  },
  {
    text: "çµŒæ¸ˆæˆé•·ã®æ–¹é‡ã‚’é¸æŠã—ã‚ˆã†",
    options: [
      { text: "è¦³å…‰æ¥­ã‚’å¼·åŒ–", effect: { env: -5, eco: +10, soc: +5 } },
      { text: "å·¥æ¥­ã‚’ç™ºå±•", effect: { env: -15, eco: +20, soc: -5 } },
      { text: "ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ”¯æ´", effect: { env: 0, eco: +15, soc: +10 } },
    ]
  },
  {
    text: "ç¤¾ä¼šæ”¿ç­–ã‚’é¸æŠã—ã‚ˆã†",
    options: [
      { text: "æ•™è‚²æŠ•è³‡ã‚’å¢—ã‚„ã™", effect: { env: 0, eco: +5, soc: +15 } },
      { text: "ç¦ç¥‰ã‚’å……å®Ÿ", effect: { env: 0, eco: -5, soc: +20 } },
      { text: "æ²»å®‰ã‚’å¼·åŒ–", effect: { env: -5, eco: -5, soc: +10 } },
    ]
  }
];

let currentQuestion = 0;
let city = { env: 70, eco: 60, soc: 80 };

function updateCityPanel() {
  document.getElementById("env-value").textContent = city.env;
  document.getElementById("eco-value").textContent = city.eco;
  document.getElementById("soc-value").textContent = city.soc;
}

function showQuestion() {
  const q = questions[currentQuestion];
  document.getElementById("question-text").textContent = q.text;

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  q.options.forEach((opt, idx) => {
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = opt.text;
    div.onclick = () => selectOption(opt.effect);
    optionsDiv.appendChild(div);
  });
}

function selectOption(effect) {
  city.env += effect.env;
  city.eco += effect.eco;
  city.soc += effect.soc;
  updateCityPanel();

  currentQuestion++;
  if (currentQuestion < questions.length) {
    showQuestion();
  } else {
    showResult();
  }
}

function showResult() {
  const total = city.env + city.eco + city.soc;
  let result = "";

  if (city.env > 90 && city.eco > 80 && city.soc > 85) result = "ğŸŒˆç†æƒ³éƒ½å¸‚";
  else if (city.env < 30 && city.eco < 30) result = "ğŸ’€è’å»ƒéƒ½å¸‚";
  else if (city.env > 80 && city.eco < 50) result = "ğŸŒ¿ã‚¨ã‚³éƒ½å¸‚";
  else if (city.eco > 85 && city.env < 50) result = "ğŸ­å·¥æ¥­éƒ½å¸‚";
  else if (city.soc > 90) result = "ğŸ™æ–‡åŒ–éƒ½å¸‚";
  else result = "ğŸ˜ç™ºå±•é€”ä¸Šéƒ½å¸‚";

  document.getElementById("result").textContent = `æœ€çµ‚çµæœï¼š${result}`;
}

showQuestion();
updateCityPanel();
</script>

</body>
</html>

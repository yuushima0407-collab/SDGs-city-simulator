<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global SDGs Challenge - 世界の課題解決者</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #00b894, #00cec9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .countries-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .country-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            color: white;
        }

        .country-btn:hover {
            transform: translateY(-2px);
            border-color: #00cec9;
        }

        .country-btn.active {
            border-color: #00b894;
            background: rgba(0, 184, 148, 0.2);
        }

        .country-flag {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .phases-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .phase-btn {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            border: none;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            color: white;
            font-weight: bold;
        }

        .phase-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(116, 185, 255, 0.4);
        }

        .phase-btn.active {
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .progress-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 18px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin: 12px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            border-radius: 8px;
            transition: width 0.5s ease;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 15px 0;
        }

        .action-btn {
            background: white;
            color: #2c3e50;
            border: 2px solid #74b9ff;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(116, 185, 255, 0.3);
        }

        .action-btn.selected {
            border-color: #00b894;
            background: rgba(0, 184, 148, 0.1);
        }

        .control-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .ctrl-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ctrl-btn.primary {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
        }

        .ctrl-btn.secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .ctrl-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .info-box {
            background: rgba(255, 255, 255, 0.95);
            color: #2c3e50;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #fdcb6e;
        }

        .event-log {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            max-height: 120px;
            overflow-y: auto;
            font-size: 0.9em;
        }

        .event-item {
            padding: 6px;
            margin: 4px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            z-index: 10000;
            animation: slideIn 0.5s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .sdgs-badge {
            display: inline-block;
            background: #FFD700;
            color: #000;
            padding: 3px 6px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: bold;
            margin: 1px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>🌍 Global SDGs Challenge</h1>
            <p>世界の課題解決者 - 持続可能な未来を創ろう</p>
        </div>

        <!-- ゲーム統計 -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="budgetDisplay">1,000,000</div>
                <div>💰 予算</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="supportDisplay">45%</div>
                <div>👥 市民支持</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="politicsDisplay">60%</div>
                <div>🏛️ 政治的支援</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="environmentDisplay">30%</div>
                <div>🌿 環境指標</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="timeDisplay">12</div>
                <div>⏰ 残り時間</div>
            </div>
        </div>

        <!-- 国選択 -->
        <div class="countries-grid">
            <button class="country-btn active" onclick="switchCountry('rwanda')">
                <div class="country-flag">🇷🇼</div>
                <div>ルワンダ</div>
                <div style="font-size:0.8em;opacity:0.8">プラスチックごみ</div>
            </button>
            <button class="country-btn" onclick="switchCountry('brazil')">
                <div class="country-flag">🇧🇷</div>
                <div>ブラジル</div>
                <div style="font-size:0.8em;opacity:0.8">熱帯雨林保護</div>
            </button>
            <button class="country-btn" onclick="switchCountry('india')">
                <div class="country-flag">🇮🇳</div>
                <div>インド</div>
                <div style="font-size:0.8em;opacity:0.8">大気汚染対策</div>
            </button>
            <button class="country-btn" onclick="switchCountry('norway')">
                <div class="country-flag">🇳🇴</div>
                <div>ノルウェー</div>
                <div style="font-size:0.8em;opacity:0.8">ゼロエミッション</div>
            </button>
        </div>

        <!-- ゲームフェーズ -->
        <div class="phases-grid">
            <button class="phase-btn active" onclick="changePhase('analysis')">📊 課題分析</button>
            <button class="phase-btn" onclick="changePhase('planning')">📝 対策計画</button>
            <button class="phase-btn" onclick="changePhase('execution')">🏗️ 実行</button>
            <button class="phase-btn" onclick="changePhase('evaluation')">📈 結果評価</button>
        </div>

        <!-- 進捗表示 -->
        <div class="progress-section">
            <h3>🎯 ミッション: <span id="missionText">プラスチックごみの削減</span></h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p>進捗: <span id="progressText">20</span>% / 目標: <span id="targetText">80</span>%</p>
        </div>

        <!-- イベントログ -->
        <div class="event-log" id="eventLog">
            <div class="event-item">🚀 ルワンダミッション開始！</div>
            <div class="event-item">📊 課題分析フェーズ</div>
        </div>

        <!-- アクション選択 -->
        <div style="background:rgba(116,185,255,0.1); padding:15px; border-radius:10px;">
            <h3>💡 解決策を選択</h3>
            <div class="actions-grid">
                <button class="action-btn" onclick="pickSolution('recycling')">
                    <strong>分別収集システム</strong><br>
                    ✅ リサイクル率 +25%<br>
                    ❌ 予算 -200,000
                </button>
                <button class="action-btn" onclick="pickSolution('facility')">
                    <strong>リサイクル施設</strong><br>
                    ✅ 雇用 +100人<br>
                    ❌ 予算 -500,000
                </button>
                <button class="action-btn" onclick="pickSolution('education')">
                    <strong>市民啓発</strong><br>
                    ✅ 市民支持 +20%<br>
                    ❌ 予算 -100,000
                </button>
                <button class="action-btn" onclick="pickSolution('policy')">
                    <strong>環境政策</strong><br>
                    ✅ 清潔度 +30%<br>
                    ❌ 政治支援 -10%
                </button>
            </div>
        </div>

        <!-- 情報表示 -->
        <div class="info-box">
            <h4>🇷🇼 ルワンダの実際のデータ:</h4>
            <p>• 2008年にビニール袋を全面禁止</p>
            <p>• ごみのポイ捨てには罰金</p>
            <p>• 「アフリカで最も清潔な都市」に</p>
        </div>

        <!-- SDGs目標 -->
        <div style="background:rgba(255,255,255,0.1); padding:12px; border-radius:8px; margin:12px 0;">
            <h4>🏆 SDGs目標</h4>
            <span class="sdgs-badge">11: 持続可能な都市</span>
            <span class="sdgs-badge">12: つくる責任 つかう責任</span>
            <span class="sdgs-badge">14: 海の豊かさ</span>
        </div>

        <!-- コントロールボタン -->
        <div class="control-buttons">
            <button class="ctrl-btn primary" onclick="executeSolution()">🚀 解決策を実施</button>
            <button class="ctrl-btn secondary" onclick="analyzeData()">📊 データ分析</button>
            <button class="ctrl-btn secondary" onclick="nextStep()">⏭️ 次のステップ</button>
            <button class="ctrl-btn secondary" onclick="showCases()">🌍 国際事例</button>
        </div>
    </div>

    <script>
        // シンプルなゲーム状態管理
        const gameData = {
            progress: 20,
            budget: 1000000,
            support: 45,
            politics: 60,
            environment: 30,
            time: 12,
            country: 'rwanda',
            phase: 'analysis',
            solution: null,
            target: 80
        };

        // 国データ
        const countries = {
            rwanda: { name: 'ルワンダ', mission: 'プラスチックごみの削減', target: 80 },
            brazil: { name: 'ブラジル', mission: 'アマゾン熱帯雨林保護', target: 70 },
            india: { name: 'インド', mission: '大気汚染対策', target: 75 },
            norway: { name: 'ノルウェー', mission: 'ゼロエミッション交通', target: 85 }
        };

        // 解決策効果
        const solutions = {
            recycling: { progress: 15, cost: 200000, support: 5, politics: 0, environment: 10 },
            facility: { progress: 25, cost: 500000, support: 10, politics: 5, environment: 20 },
            education: { progress: 10, cost: 100000, support: 20, politics: 0, environment: 15 },
            policy: { progress: 20, cost: 150000, support: 0, politics: -10, environment: 30 }
        };

        function switchCountry(country) {
            gameData.country = country;
            const countryInfo = countries[country];
            
            // UI更新
            document.querySelectorAll('.country-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.country-btn').classList.add('active');
            
            // データ更新
            gameData.target = countryInfo.target;
            updateDisplay();
            addLog(`🇷🇼 ${countryInfo.name}ミッション: ${countryInfo.mission}`);
        }

        function changePhase(phase) {
            gameData.phase = phase;
            document.querySelectorAll('.phase-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            const phases = {
                analysis: '課題分析', planning: '対策計画',
                execution: '実行', evaluation: '結果評価'
            };
            addLog(`📊 ${phases[phase]}フェーズ`);
        }

        function pickSolution(solution) {
            gameData.solution = solution;
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            addLog('✅ 解決策を選択しました');
        }

        function executeSolution() {
            if (!gameData.solution) {
                showMessage('❌ まず解決策を選択してください！');
                return;
            }

            const effect = solutions[gameData.solution];
            
            if (gameData.budget >= effect.cost) {
                // 効果適用
                gameData.progress += effect.progress;
                gameData.budget -= effect.cost;
                gameData.support = Math.min(100, gameData.support + effect.support);
                gameData.politics = Math.max(0, gameData.politics + effect.politics);
                gameData.environment = Math.min(100, gameData.environment + effect.environment);
                gameData.time -= 1;

                if (gameData.progress > 100) gameData.progress = 100;
                
                updateDisplay();
                addLog(`🎉 解決策実施！進捗 +${effect.progress}%`);

                // 勝利チェック
                if (gameData.progress >= gameData.target) {
                    setTimeout(() => {
                        const country = countries[gameData.country];
                        showMessage(`🏆 ミッション成功！${country.name}の${country.mission}を達成！`);
                    }, 500);
                }

                // 時間切れチェック
                if (gameData.time <= 0) {
                    showMessage('⏰ 時間切れ！ミッション失敗...');
                }
            } else {
                showMessage('❌ 予算が足りません！');
            }
        }

        function analyzeData() {
            const analyses = [
                'ごみ発生量: 1日100トン',
                'リサイクル率: 現在15%',
                '市民意識: 65%',
                '経済効果: 観光収入+25%'
            ];
            const analysis = analyses[Math.floor(Math.random() * analyses.length)];
            addLog(`🔍 ${analysis}`);
        }

        function nextStep() {
            addLog('⏭️ 次のステップへ進みます');
        }

        function showCases() {
            const cases = [
                '🇩🇪 ドイツ: デポジット制度',
                '🇸🇬 シンガポール: 厳格な分別',
                '🇯🇵 日本: 高度リサイクル技術'
            ];
            const example = cases[Math.floor(Math.random() * cases.length)];
            addLog(`🌍 ${example}`);
        }

        function updateDisplay() {
            // 統計更新
            document.getElementById('budgetDisplay').textContent = gameData.budget.toLocaleString();
            document.getElementById('supportDisplay').textContent = gameData.support + '%';
            document.getElementById('politicsDisplay').textContent = gameData.politics + '%';
            document.getElementById('environmentDisplay').textContent = gameData.environment + '%';
            document.getElementById('timeDisplay').textContent = gameData.time;
            
            // 進捗更新
            document.getElementById('progressText').textContent = gameData.progress;
            document.getElementById('targetText').textContent = gameData.target;
            document.getElementById('progressBar').style.width = gameData.progress + '%';
            
            // ミッション表示
            const country = countries[gameData.country];
            document.getElementById('missionText').textContent = country.mission;
        }

        function addLog(message) {
            const log = document.getElementById('eventLog');
            const item = document.createElement('div');
            item.className = 'event-item';
            item.textContent = message;
            log.appendChild(item);
            log.scrollTop = log.scrollHeight;
        }

        function showMessage(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // 初期化
        updateDisplay();
    </script>
</body>
</html>

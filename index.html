<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global SDGs Challenge - ä¸–ç•Œã®èª²é¡Œè§£æ±ºè€…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #00b894, #00cec9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .countries-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .country-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            color: white;
        }

        .country-btn:hover {
            transform: translateY(-2px);
            border-color: #00cec9;
        }

        .country-btn.active {
            border-color: #00b894;
            background: rgba(0, 184, 148, 0.2);
        }

        .country-flag {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .phases-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .phase-btn {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            border: none;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            color: white;
            font-weight: bold;
        }

        .phase-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(116, 185, 255, 0.4);
        }

        .phase-btn.active {
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .progress-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 18px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin: 12px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            border-radius: 8px;
            transition: width 0.5s ease;
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 15px 0;
        }

        .action-btn {
            background: white;
            color: #2c3e50;
            border: 2px solid #74b9ff;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(116, 185, 255, 0.3);
        }

        .action-btn.selected {
            border-color: #00b894;
            background: rgba(0, 184, 148, 0.1);
        }

        .control-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .ctrl-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .ctrl-btn.primary {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
        }

        .ctrl-btn.secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .ctrl-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .info-box {
            background: rgba(255, 255, 255, 0.95);
            color: #2c3e50;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #fdcb6e;
        }

        .event-log {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            max-height: 120px;
            overflow-y: auto;
            font-size: 0.9em;
        }

        .event-item {
            padding: 6px;
            margin: 4px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            z-index: 10000;
            animation: slideIn 0.5s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .sdgs-badge {
            display: inline-block;
            background: #FFD700;
            color: #000;
            padding: 3px 6px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: bold;
            margin: 1px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>ğŸŒ Global SDGs Challenge</h1>
            <p>ä¸–ç•Œã®èª²é¡Œè§£æ±ºè€… - æŒç¶šå¯èƒ½ãªæœªæ¥ã‚’å‰µã‚ã†</p>
        </div>

        <!-- ã‚²ãƒ¼ãƒ çµ±è¨ˆ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="budgetDisplay">1,000,000</div>
                <div>ğŸ’° äºˆç®—</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="supportDisplay">45%</div>
                <div>ğŸ‘¥ å¸‚æ°‘æ”¯æŒ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="politicsDisplay">60%</div>
                <div>ğŸ›ï¸ æ”¿æ²»çš„æ”¯æ´</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="environmentDisplay">30%</div>
                <div>ğŸŒ¿ ç’°å¢ƒæŒ‡æ¨™</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="timeDisplay">12</div>
                <div>â° æ®‹ã‚Šæ™‚é–“</div>
            </div>
        </div>

        <!-- å›½é¸æŠ -->
        <div class="countries-grid">
            <button class="country-btn active" onclick="switchCountry('rwanda')">
                <div class="country-flag">ğŸ‡·ğŸ‡¼</div>
                <div>ãƒ«ãƒ¯ãƒ³ãƒ€</div>
                <div style="font-size:0.8em;opacity:0.8">ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã”ã¿</div>
            </button>
            <button class="country-btn" onclick="switchCountry('brazil')">
                <div class="country-flag">ğŸ‡§ğŸ‡·</div>
                <div>ãƒ–ãƒ©ã‚¸ãƒ«</div>
                <div style="font-size:0.8em;opacity:0.8">ç†±å¸¯é›¨æ—ä¿è­·</div>
            </button>
            <button class="country-btn" onclick="switchCountry('india')">
                <div class="country-flag">ğŸ‡®ğŸ‡³</div>
                <div>ã‚¤ãƒ³ãƒ‰</div>
                <div style="font-size:0.8em;opacity:0.8">å¤§æ°—æ±šæŸ“å¯¾ç­–</div>
            </button>
            <button class="country-btn" onclick="switchCountry('norway')">
                <div class="country-flag">ğŸ‡³ğŸ‡´</div>
                <div>ãƒãƒ«ã‚¦ã‚§ãƒ¼</div>
                <div style="font-size:0.8em;opacity:0.8">ã‚¼ãƒ­ã‚¨ãƒŸãƒƒã‚·ãƒ§ãƒ³</div>
            </button>
        </div>

        <!-- ã‚²ãƒ¼ãƒ ãƒ•ã‚§ãƒ¼ã‚º -->
        <div class="phases-grid">
            <button class="phase-btn active" onclick="changePhase('analysis')">ğŸ“Š èª²é¡Œåˆ†æ</button>
            <button class="phase-btn" onclick="changePhase('planning')">ğŸ“ å¯¾ç­–è¨ˆç”»</button>
            <button class="phase-btn" onclick="changePhase('execution')">ğŸ—ï¸ å®Ÿè¡Œ</button>
            <button class="phase-btn" onclick="changePhase('evaluation')">ğŸ“ˆ çµæœè©•ä¾¡</button>
        </div>

        <!-- é€²æ—è¡¨ç¤º -->
        <div class="progress-section">
            <h3>ğŸ¯ ãƒŸãƒƒã‚·ãƒ§ãƒ³: <span id="missionText">ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã”ã¿ã®å‰Šæ¸›</span></h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p>é€²æ—: <span id="progressText">20</span>% / ç›®æ¨™: <span id="targetText">80</span>%</p>
        </div>

        <!-- ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚° -->
        <div class="event-log" id="eventLog">
            <div class="event-item">ğŸš€ ãƒ«ãƒ¯ãƒ³ãƒ€ãƒŸãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ï¼</div>
            <div class="event-item">ğŸ“Š èª²é¡Œåˆ†æãƒ•ã‚§ãƒ¼ã‚º</div>
        </div>

        <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ -->
        <div style="background:rgba(116,185,255,0.1); padding:15px; border-radius:10px;">
            <h3>ğŸ’¡ è§£æ±ºç­–ã‚’é¸æŠ</h3>
            <div class="actions-grid">
                <button class="action-btn" onclick="pickSolution('recycling')">
                    <strong>åˆ†åˆ¥åé›†ã‚·ã‚¹ãƒ†ãƒ </strong><br>
                    âœ… ãƒªã‚µã‚¤ã‚¯ãƒ«ç‡ +25%<br>
                    âŒ äºˆç®— -200,000
                </button>
                <button class="action-btn" onclick="pickSolution('facility')">
                    <strong>ãƒªã‚µã‚¤ã‚¯ãƒ«æ–½è¨­</strong><br>
                    âœ… é›‡ç”¨ +100äºº<br>
                    âŒ äºˆç®— -500,000
                </button>
                <button class="action-btn" onclick="pickSolution('education')">
                    <strong>å¸‚æ°‘å•“ç™º</strong><br>
                    âœ… å¸‚æ°‘æ”¯æŒ +20%<br>
                    âŒ äºˆç®— -100,000
                </button>
                <button class="action-btn" onclick="pickSolution('policy')">
                    <strong>ç’°å¢ƒæ”¿ç­–</strong><br>
                    âœ… æ¸…æ½”åº¦ +30%<br>
                    âŒ æ”¿æ²»æ”¯æ´ -10%
                </button>
            </div>
        </div>

        <!-- æƒ…å ±è¡¨ç¤º -->
        <div class="info-box">
            <h4>ğŸ‡·ğŸ‡¼ ãƒ«ãƒ¯ãƒ³ãƒ€ã®å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿:</h4>
            <p>â€¢ 2008å¹´ã«ãƒ“ãƒ‹ãƒ¼ãƒ«è¢‹ã‚’å…¨é¢ç¦æ­¢</p>
            <p>â€¢ ã”ã¿ã®ãƒã‚¤æ¨ã¦ã«ã¯ç½°é‡‘</p>
            <p>â€¢ ã€Œã‚¢ãƒ•ãƒªã‚«ã§æœ€ã‚‚æ¸…æ½”ãªéƒ½å¸‚ã€ã«</p>
        </div>

        <!-- SDGsç›®æ¨™ -->
        <div style="background:rgba(255,255,255,0.1); padding:12px; border-radius:8px; margin:12px 0;">
            <h4>ğŸ† SDGsç›®æ¨™</h4>
            <span class="sdgs-badge">11: æŒç¶šå¯èƒ½ãªéƒ½å¸‚</span>
            <span class="sdgs-badge">12: ã¤ãã‚‹è²¬ä»» ã¤ã‹ã†è²¬ä»»</span>
            <span class="sdgs-badge">14: æµ·ã®è±Šã‹ã•</span>
        </div>

        <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ -->
        <div class="control-buttons">
            <button class="ctrl-btn primary" onclick="executeSolution()">ğŸš€ è§£æ±ºç­–ã‚’å®Ÿæ–½</button>
            <button class="ctrl-btn secondary" onclick="analyzeData()">ğŸ“Š ãƒ‡ãƒ¼ã‚¿åˆ†æ</button>
            <button class="ctrl-btn secondary" onclick="nextStep()">â­ï¸ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</button>
            <button class="ctrl-btn secondary" onclick="showCases()">ğŸŒ å›½éš›äº‹ä¾‹</button>
        </div>
    </div>

    <script>
        // ã‚·ãƒ³ãƒ—ãƒ«ãªã‚²ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†
        const gameData = {
            progress: 20,
            budget: 1000000,
            support: 45,
            politics: 60,
            environment: 30,
            time: 12,
            country: 'rwanda',
            phase: 'analysis',
            solution: null,
            target: 80
        };

        // å›½ãƒ‡ãƒ¼ã‚¿
        const countries = {
            rwanda: { name: 'ãƒ«ãƒ¯ãƒ³ãƒ€', mission: 'ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã”ã¿ã®å‰Šæ¸›', target: 80 },
            brazil: { name: 'ãƒ–ãƒ©ã‚¸ãƒ«', mission: 'ã‚¢ãƒã‚¾ãƒ³ç†±å¸¯é›¨æ—ä¿è­·', target: 70 },
            india: { name: 'ã‚¤ãƒ³ãƒ‰', mission: 'å¤§æ°—æ±šæŸ“å¯¾ç­–', target: 75 },
            norway: { name: 'ãƒãƒ«ã‚¦ã‚§ãƒ¼', mission: 'ã‚¼ãƒ­ã‚¨ãƒŸãƒƒã‚·ãƒ§ãƒ³äº¤é€š', target: 85 }
        };

        // è§£æ±ºç­–åŠ¹æœ
        const solutions = {
            recycling: { progress: 15, cost: 200000, support: 5, politics: 0, environment: 10 },
            facility: { progress: 25, cost: 500000, support: 10, politics: 5, environment: 20 },
            education: { progress: 10, cost: 100000, support: 20, politics: 0, environment: 15 },
            policy: { progress: 20, cost: 150000, support: 0, politics: -10, environment: 30 }
        };

        function switchCountry(country) {
            gameData.country = country;
            const countryInfo = countries[country];
            
            // UIæ›´æ–°
            document.querySelectorAll('.country-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.country-btn').classList.add('active');
            
            // ãƒ‡ãƒ¼ã‚¿æ›´æ–°
            gameData.target = countryInfo.target;
            updateDisplay();
            addLog(`ğŸ‡·ğŸ‡¼ ${countryInfo.name}ãƒŸãƒƒã‚·ãƒ§ãƒ³: ${countryInfo.mission}`);
        }

        function changePhase(phase) {
            gameData.phase = phase;
            document.querySelectorAll('.phase-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            const phases = {
                analysis: 'èª²é¡Œåˆ†æ', planning: 'å¯¾ç­–è¨ˆç”»',
                execution: 'å®Ÿè¡Œ', evaluation: 'çµæœè©•ä¾¡'
            };
            addLog(`ğŸ“Š ${phases[phase]}ãƒ•ã‚§ãƒ¼ã‚º`);
        }

        function pickSolution(solution) {
            gameData.solution = solution;
            document.querySelectorAll('.action-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
            addLog('âœ… è§£æ±ºç­–ã‚’é¸æŠã—ã¾ã—ãŸ');
        }

        function executeSolution() {
            if (!gameData.solution) {
                showMessage('âŒ ã¾ãšè§£æ±ºç­–ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼');
                return;
            }

            const effect = solutions[gameData.solution];
            
            if (gameData.budget >= effect.cost) {
                // åŠ¹æœé©ç”¨
                gameData.progress += effect.progress;
                gameData.budget -= effect.cost;
                gameData.support = Math.min(100, gameData.support + effect.support);
                gameData.politics = Math.max(0, gameData.politics + effect.politics);
                gameData.environment = Math.min(100, gameData.environment + effect.environment);
                gameData.time -= 1;

                if (gameData.progress > 100) gameData.progress = 100;
                
                updateDisplay();
                addLog(`ğŸ‰ è§£æ±ºç­–å®Ÿæ–½ï¼é€²æ— +${effect.progress}%`);

                // å‹åˆ©ãƒã‚§ãƒƒã‚¯
                if (gameData.progress >= gameData.target) {
                    setTimeout(() => {
                        const country = countries[gameData.country];
                        showMessage(`ğŸ† ãƒŸãƒƒã‚·ãƒ§ãƒ³æˆåŠŸï¼${country.name}ã®${country.mission}ã‚’é”æˆï¼`);
                    }, 500);
                }

                // æ™‚é–“åˆ‡ã‚Œãƒã‚§ãƒƒã‚¯
                if (gameData.time <= 0) {
                    showMessage('â° æ™‚é–“åˆ‡ã‚Œï¼ãƒŸãƒƒã‚·ãƒ§ãƒ³å¤±æ•—...');
                }
            } else {
                showMessage('âŒ äºˆç®—ãŒè¶³ã‚Šã¾ã›ã‚“ï¼');
            }
        }

        function analyzeData() {
            const analyses = [
                'ã”ã¿ç™ºç”Ÿé‡: 1æ—¥100ãƒˆãƒ³',
                'ãƒªã‚µã‚¤ã‚¯ãƒ«ç‡: ç¾åœ¨15%',
                'å¸‚æ°‘æ„è­˜: 65%',
                'çµŒæ¸ˆåŠ¹æœ: è¦³å…‰åå…¥+25%'
            ];
            const analysis = analyses[Math.floor(Math.random() * analyses.length)];
            addLog(`ğŸ” ${analysis}`);
        }

        function nextStep() {
            addLog('â­ï¸ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸é€²ã¿ã¾ã™');
        }

        function showCases() {
            const cases = [
                'ğŸ‡©ğŸ‡ª ãƒ‰ã‚¤ãƒ„: ãƒ‡ãƒã‚¸ãƒƒãƒˆåˆ¶åº¦',
                'ğŸ‡¸ğŸ‡¬ ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«: å³æ ¼ãªåˆ†åˆ¥',
                'ğŸ‡¯ğŸ‡µ æ—¥æœ¬: é«˜åº¦ãƒªã‚µã‚¤ã‚¯ãƒ«æŠ€è¡“'
            ];
            const example = cases[Math.floor(Math.random() * cases.length)];
            addLog(`ğŸŒ ${example}`);
        }

        function updateDisplay() {
            // çµ±è¨ˆæ›´æ–°
            document.getElementById('budgetDisplay').textContent = gameData.budget.toLocaleString();
            document.getElementById('supportDisplay').textContent = gameData.support + '%';
            document.getElementById('politicsDisplay').textContent = gameData.politics + '%';
            document.getElementById('environmentDisplay').textContent = gameData.environment + '%';
            document.getElementById('timeDisplay').textContent = gameData.time;
            
            // é€²æ—æ›´æ–°
            document.getElementById('progressText').textContent = gameData.progress;
            document.getElementById('targetText').textContent = gameData.target;
            document.getElementById('progressBar').style.width = gameData.progress + '%';
            
            // ãƒŸãƒƒã‚·ãƒ§ãƒ³è¡¨ç¤º
            const country = countries[gameData.country];
            document.getElementById('missionText').textContent = country.mission;
        }

        function addLog(message) {
            const log = document.getElementById('eventLog');
            const item = document.createElement('div');
            item.className = 'event-item';
            item.textContent = message;
            log.appendChild(item);
            log.scrollTop = log.scrollHeight;
        }

        function showMessage(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // åˆæœŸåŒ–
        updateDisplay();
    </script>
</body>
</html>
